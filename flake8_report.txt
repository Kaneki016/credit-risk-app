[1m.\backend\api\main.py[m[36m:[m3[36m:[m1[36m:[m [1m[31mF401[m 'os' imported but unused
import os
^
[1m.\backend\api\routes\chatbot.py[m[36m:[m1[36m:[m1[36m:[m [1m[31mF401[m 'fastapi.Body' imported but unused
from fastapi import APIRouter, HTTPException, Body
^
[1m.\backend\api\routes\chatbot.py[m[36m:[m39[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        system_prompt = """You are the dedicated AI Assistant for the Credit Risk Prediction System.
        
        Your SOLE purpose is to assist users with this specific application.
        
        SYSTEM CAPABILITIES:
        1. Predict Credit Risk: Analyze loan applications using XGBoost to predict default probability.
        2. Explain Decisions: Use SHAP values to explain why a loan was approved or rejected.
        3. Retrain Models: Learn from new historical data (CSV imports) to improve accuracy.
        4. Manage Data: Import/Export loan data and view database statistics.
        
        STRICT GUIDELINES:
        - ONLY answer questions related to credit risk, banking, loan assessment, or this specific software.
        - If a user asks about general topics (e.g., "Who is the president?", "Write a poem", "Python code"), politely REFUSE.
        - Say: "I can only assist with credit risk assessment and navigating this application."
        - Be professional, concise, and financial-focused.
        - Do not hallucinate features that don't exist (e.g., we don't have image recognition).
        
        CONTEXT:
        The user is interacting with the web dashboard of the Credit Risk Prediction System.
        """
^
[1m.\backend\api\routes\chatbot.py[m[36m:[m41[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        system_prompt = """You are the dedicated AI Assistant for the Credit Risk Prediction System.
        
        Your SOLE purpose is to assist users with this specific application.
        
        SYSTEM CAPABILITIES:
        1. Predict Credit Risk: Analyze loan applications using XGBoost to predict default probability.
        2. Explain Decisions: Use SHAP values to explain why a loan was approved or rejected.
        3. Retrain Models: Learn from new historical data (CSV imports) to improve accuracy.
        4. Manage Data: Import/Export loan data and view database statistics.
        
        STRICT GUIDELINES:
        - ONLY answer questions related to credit risk, banking, loan assessment, or this specific software.
        - If a user asks about general topics (e.g., "Who is the president?", "Write a poem", "Python code"), politely REFUSE.
        - Say: "I can only assist with credit risk assessment and navigating this application."
        - Be professional, concise, and financial-focused.
        - Do not hallucinate features that don't exist (e.g., we don't have image recognition).
        
        CONTEXT:
        The user is interacting with the web dashboard of the Credit Risk Prediction System.
        """
^
[1m.\backend\api\routes\chatbot.py[m[36m:[m47[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        system_prompt = """You are the dedicated AI Assistant for the Credit Risk Prediction System.
        
        Your SOLE purpose is to assist users with this specific application.
        
        SYSTEM CAPABILITIES:
        1. Predict Credit Risk: Analyze loan applications using XGBoost to predict default probability.
        2. Explain Decisions: Use SHAP values to explain why a loan was approved or rejected.
        3. Retrain Models: Learn from new historical data (CSV imports) to improve accuracy.
        4. Manage Data: Import/Export loan data and view database statistics.
        
        STRICT GUIDELINES:
        - ONLY answer questions related to credit risk, banking, loan assessment, or this specific software.
        - If a user asks about general topics (e.g., "Who is the president?", "Write a poem", "Python code"), politely REFUSE.
        - Say: "I can only assist with credit risk assessment and navigating this application."
        - Be professional, concise, and financial-focused.
        - Do not hallucinate features that don't exist (e.g., we don't have image recognition).
        
        CONTEXT:
        The user is interacting with the web dashboard of the Credit Risk Prediction System.
        """
^
[1m.\backend\api\routes\chatbot.py[m[36m:[m54[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        system_prompt = """You are the dedicated AI Assistant for the Credit Risk Prediction System.
        
        Your SOLE purpose is to assist users with this specific application.
        
        SYSTEM CAPABILITIES:
        1. Predict Credit Risk: Analyze loan applications using XGBoost to predict default probability.
        2. Explain Decisions: Use SHAP values to explain why a loan was approved or rejected.
        3. Retrain Models: Learn from new historical data (CSV imports) to improve accuracy.
        4. Manage Data: Import/Export loan data and view database statistics.
        
        STRICT GUIDELINES:
        - ONLY answer questions related to credit risk, banking, loan assessment, or this specific software.
        - If a user asks about general topics (e.g., "Who is the president?", "Write a poem", "Python code"), politely REFUSE.
        - Say: "I can only assist with credit risk assessment and navigating this application."
        - Be professional, concise, and financial-focused.
        - Do not hallucinate features that don't exist (e.g., we don't have image recognition).
        
        CONTEXT:
        The user is interacting with the web dashboard of the Credit Risk Prediction System.
        """
^
[1m.\backend\api\routes\chatbot.py[m[36m:[m73[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        prompt = f"""
        Conversation history:
        {messages_text}
        
        Please provide a helpful response to the user's last message, adhering strictly to your role as a Credit Risk Assistant.
        """
^
[1m.\backend\api\routes\data_management.py[m[36m:[m1[36m:[m1[36m:[m [1m[31mF401[m 'fastapi.BackgroundTasks' imported but unused
from fastapi import APIRouter, UploadFile, File, Depends, HTTPException, BackgroundTasks
^
[1m.\backend\api\routes\data_management.py[m[36m:[m6[36m:[m1[36m:[m [1m[31mF401[m 'typing.Dict' imported but unused
from typing import Dict, Any, List
^
[1m.\backend\api\routes\data_management.py[m[36m:[m6[36m:[m1[36m:[m [1m[31mF401[m 'typing.Any' imported but unused
from typing import Dict, Any, List
^
[1m.\backend\api\routes\data_management.py[m[36m:[m6[36m:[m1[36m:[m [1m[31mF401[m 'typing.List' imported but unused
from typing import Dict, Any, List
^
[1m.\backend\api\routes\data_management.py[m[36m:[m7[36m:[m1[36m:[m [1m[31mF401[m 'json' imported but unused
import json
^
[1m.\backend\api\routes\data_management.py[m[36m:[m9[36m:[m1[36m:[m [1m[31mF401[m 'backend.database.models' imported but unused
from backend.database import get_db, crud, models
^
[1m.\backend\api\routes\prediction.py[m[36m:[m1[36m:[m1[36m:[m [1m[31mF401[m 'fastapi.Depends' imported but unused
from fastapi import APIRouter, HTTPException, Depends
^
[1m.\backend\api\routes\prediction.py[m[36m:[m216[36m:[m1[36m:[m [1m[31mC901[m 'predict_risk_batch' is too complex (11)
async def predict_risk_batch(applications: List[DynamicLoanApplication], include_explanations: bool = False):
^
[1m.\backend\api\routes\retraining.py[m[36m:[m1[36m:[m1[36m:[m [1m[31mF401[m 'fastapi.Depends' imported but unused
from fastapi import APIRouter, Depends, HTTPException, BackgroundTasks, UploadFile, File
^
[1m.\backend\api\routes\retraining.py[m[36m:[m2[36m:[m1[36m:[m [1m[31mF401[m 'typing.Dict' imported but unused
from typing import Dict, Any
^
[1m.\backend\api\routes\retraining.py[m[36m:[m2[36m:[m1[36m:[m [1m[31mF401[m 'typing.Any' imported but unused
from typing import Dict, Any
^
[1m.\backend\core\config.py[m[36m:[m16[36m:[m1[36m:[m [1m[31mF401[m 'os' imported but unused
import os
^
[1m.\backend\core\config.py[m[36m:[m16[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
import os
^
[1m.\backend\core\config.py[m[36m:[m17[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from pathlib import Path
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m21[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
    
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m22[36m:[m23[36m:[m [1m[31mW291[m trailing whitespace
    def __init__(self, 
                      ^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m27[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        """
        Initialize the dynamic predictor.
        
        Args:
            stats_path: Path to feature statistics JSON
            historical_data_path: Path to historical data CSV for imputation
        """
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m34[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m44[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m48[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m50[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
    
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m51[36m:[m22[36m:[m [1m[31mW291[m trailing whitespace
    def predict(self, 
                     ^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m52[36m:[m44[36m:[m [1m[31mW291[m trailing whitespace
                input_data: Dict[str, Any], 
                                           ^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m57[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        """
        Make a prediction with dynamic input handling.
        
        Args:
            input_data: Dictionary with partial or complete loan application data
            flag_threshold: Threshold for high risk classification
            return_imputation_log: Whether to return imputation details
            
        Returns:
            Tuple of (risk_level, probability, binary_prediction, [imputation_log])
        """
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m62[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        """
        Make a prediction with dynamic input handling.
        
        Args:
            input_data: Dictionary with partial or complete loan application data
            flag_threshold: Threshold for high risk classification
            return_imputation_log: Whether to return imputation details
            
        Returns:
            Tuple of (risk_level, probability, binary_prediction, [imputation_log])
        """
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m68[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m71[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m74[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m77[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m82[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
    
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m86[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        """
        Get SHAP values with dynamic input handling.
        
        Args:
            input_data: Dictionary with partial or complete loan application data
            
        Returns:
            Tuple of (shap_values, expected_value, features_df, imputed_data)
        """
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m89[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        """
        Get SHAP values with dynamic input handling.
        
        Args:
            input_data: Dictionary with partial or complete loan application data
            
        Returns:
            Tuple of (shap_values, expected_value, features_df, imputed_data)
        """
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m97[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m100[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m102[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
    
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m106[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        """
        Get feature importance scores for the prediction.
        
        Args:
            input_data: Dictionary with loan application data
            
        Returns:
            Dictionary mapping feature names to importance scores
        """
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m109[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        """
        Get feature importance scores for the prediction.
        
        Args:
            input_data: Dictionary with loan application data
            
        Returns:
            Dictionary mapping feature names to importance scores
        """
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m114[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m120[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m127[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m130[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m132[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
    
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m136[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        """
        Validate input data and return validation status and warnings.
        
        Args:
            input_data: Dictionary with loan application data
            
        Returns:
            Tuple of (is_valid, warnings_list)
        """
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m139[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        """
        Validate input data and return validation status and warnings.
        
        Args:
            input_data: Dictionary with loan application data
            
        Returns:
            Tuple of (is_valid, warnings_list)
        """
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m144[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m149[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m153[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m156[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m161[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m165[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m167[36m:[m77[36m:[m [1m[31mW291[m trailing whitespace
        numeric_fields = ['person_income', 'person_emp_length', 'loan_amnt', 
                                                                            ^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m168[36m:[m26[36m:[m [1m[31mE128[m continuation line under-indented for visual indent
                         'loan_int_rate', 'cb_person_cred_hist_length']
                         ^
[1m.\backend\models\dynamic_predictor.py[m[36m:[m172[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\predictor.py[m[36m:[m3[36m:[m1[36m:[m [1m[31mF401[m 'numpy as np' imported but unused
import numpy as np
^
[1m.\backend\models\predictor.py[m[36m:[m4[36m:[m1[36m:[m [1m[31mF401[m 'typing.Optional' imported but unused
from typing import Dict, Union, Tuple, Optional
^
[1m.\backend\models\predictor.py[m[36m:[m8[36m:[m1[36m:[m [1m[31mF401[m 'pathlib.Path' imported but unused
from pathlib import Path
^
[1m.\backend\models\predictor.py[m[36m:[m13[36m:[m1[36m:[m [1m[31mE302[m expected 2 blank lines, found 1
class CreditRiskPredictor:
^
[1m.\backend\models\predictor.py[m[36m:[m21[36m:[m5[36m:[m [1m[31mC901[m 'CreditRiskPredictor._load_model' is too complex (28)
    def _load_model(self) -> None:
    ^
[1m.\backend\models\predictor.py[m[36m:[m26[36m:[m13[36m:[m [1m[31mF811[m redefinition of unused 'Path' from line 8
            from pathlib import Path
            ^
[1m.\backend\models\predictor.py[m[36m:[m29[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
            
^
[1m.\backend\models\predictor.py[m[36m:[m43[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
                        
^
[1m.\backend\models\predictor.py[m[36m:[m104[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
            
^
[1m.\backend\models\predictor.py[m[36m:[m115[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
            
^
[1m.\backend\models\predictor.py[m[36m:[m126[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        """
        Preprocess the input features for prediction.
        
        Args:
            input_dict: Dictionary containing the raw input features
            
        Returns:
            Preprocessed features as a DataFrame
        """
^
[1m.\backend\models\predictor.py[m[36m:[m129[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        """
        Preprocess the input features for prediction.
        
        Args:
            input_dict: Dictionary containing the raw input features
            
        Returns:
            Preprocessed features as a DataFrame
        """
^
[1m.\backend\models\predictor.py[m[36m:[m136[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\predictor.py[m[36m:[m144[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        """
        Make a prediction and return the risk level, probability, and binary prediction.
        
        Args:
            input_dict: Dictionary containing the input features
            flag_threshold: Threshold for high risk classification
            
        Returns:
            Tuple containing (risk_level, probability, binary_prediction)
        """
^
[1m.\backend\models\predictor.py[m[36m:[m148[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        """
        Make a prediction and return the risk level, probability, and binary prediction.
        
        Args:
            input_dict: Dictionary containing the input features
            flag_threshold: Threshold for high risk classification
            
        Returns:
            Tuple containing (risk_level, probability, binary_prediction)
        """
^
[1m.\backend\models\predictor.py[m[36m:[m154[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\predictor.py[m[36m:[m157[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\predictor.py[m[36m:[m161[36m:[m69[36m:[m [1m[31mW291[m trailing whitespace
            raw_proba = self.model.predict_proba(scaled_features)[0] 
                                                                    ^
[1m.\backend\models\predictor.py[m[36m:[m162[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
            
^
[1m.\backend\models\predictor.py[m[36m:[m175[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
                
^
[1m.\backend\models\predictor.py[m[36m:[m180[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\predictor.py[m[36m:[m190[36m:[m13[36m:[m [1m[31mF841[m local variable 'risk_class' is assigned to but never used
            risk_class = "risk-low"
            ^
[1m.\backend\models\predictor.py[m[36m:[m191[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\predictor.py[m[36m:[m197[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        """
        Get SHAP values for the prediction.
        
        Args:
            input_dict: Dictionary containing the input features
            
        Returns:
            Tuple of (shap_values, expected_value, features_df)
        """
^
[1m.\backend\models\predictor.py[m[36m:[m200[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        """
        Get SHAP values for the prediction.
        
        Args:
            input_dict: Dictionary containing the input features
            
        Returns:
            Tuple of (shap_values, expected_value, features_df)
        """
^
[1m.\backend\models\predictor.py[m[36m:[m205[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\predictor.py[m[36m:[m209[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\predictor.py[m[36m:[m214[36m:[m1[36m:[m [1m[31mW293[m blank line contains whitespace
        
^
[1m.\backend\models\predictor.py[m[36m:[m215[36m:[m53[36m:[m [1m[31mW292[m no newline at end of file
        return shap_values, expected_value, df_input                                                    ^
[1m.\backend\models\training.py[m[36m:[m52[36m:[m1[36m:[m [1m[31mW191[m indentation contains tabs
	json.dump(X.columns.tolist(), f)
^
[1m.\backend\services\database_retraining.py[m[36m:[m8[36m:[m1[36m:[m [1m[31mF401[m 'numpy as np' imported but unused
import numpy as np
^
[1m.\backend\services\database_retraining.py[m[36m:[m20[36m:[m1[36m:[m [1m[31mF401[m 'backend.database.models.Prediction' imported but unused
from backend.database.models import Prediction, ModelMetrics
^
[1m.\backend\services\database_retraining.py[m[36m:[m20[36m:[m1[36m:[m [1m[31mF401[m 'backend.database.models.ModelMetrics' imported but unused
from backend.database.models import Prediction, ModelMetrics
^
[1m.\backend\services\database_retraining.py[m[36m:[m332[36m:[m26[36m:[m [1m[31mF541[m f-string is missing placeholders
                "notes": f"Retrained from database data. Source: database_retraining",
                         ^
[1m.\backend\services\explanation_service.py[m[36m:[m4[36m:[m1[36m:[m [1m[31mF401[m 'numpy as np' imported but unused
import numpy as np
^
[1m.\backend\services\explanation_service.py[m[36m:[m5[36m:[m1[36m:[m [1m[31mF401[m 'typing.Optional' imported but unused
from typing import Dict, Any, Optional
^
[1m.\backend\services\explanation_service.py[m[36m:[m120[36m:[m1[36m:[m [1m[31mC901[m '_generate_fallback_explanation' is too complex (33)
def _generate_fallback_explanation(input_data: Dict[str, Any], shap_expl: Dict[str, float], risk_level: str) -> str:
^
[1m.\backend\services\explanation_service.py[m[36m:[m140[36m:[m9[36m:[m [1m[31mF841[m local variable 'age' is assigned to but never used
        age = n("person_age")
        ^
[1m.\backend\services\explanation_service.py[m[36m:[m150[36m:[m69[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
                    f"the requested loan amount represents {loan_pct*100:.0f}% of annual income, which is significantly high"
                                                                    ^
[1m.\backend\services\explanation_service.py[m[36m:[m199[36m:[m68[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
                concerns.append(f"loan-to-income ratio of {loan_pct*100:.0f}%")
                                                                   ^
[1m.\backend\services\explanation_service.py[m[36m:[m220[36m:[m82[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
                strengths.append(f"conservative loan-to-income ratio of {loan_pct*100:.0f}%")
                                                                                 ^
[1m.\backend\services\explanation_service.py[m[36m:[m253[36m:[m1[36m:[m [1m[31mC901[m '_build_rule_based_remediation' is too complex (18)
def _build_rule_based_remediation(input_data: Dict[str, Any], shap_expl: Dict[str, float], risk_level: str) -> str:
^
[1m.\backend\services\explanation_service.py[m[36m:[m285[36m:[m50[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
                f"Requested loan equals {loan_pct*100:.0f}% of income ‚Äî consider reducing the loan to ~${suggested:,} (‚âà30% of income) or offering a longer term."
                                                 ^
[1m.\backend\services\flexible_training.py[m[36m:[m7[36m:[m1[36m:[m [1m[31mF401[m 'numpy as np' imported but unused
import numpy as np
^
[1m.\backend\services\flexible_training.py[m[36m:[m17[36m:[m1[36m:[m [1m[31mF401[m 'typing.List' imported but unused
from typing import Dict, List, Optional, Tuple, Any
^
[1m.\backend\services\flexible_training.py[m[36m:[m327[36m:[m21[36m:[m [1m[31mF541[m f-string is missing placeholders
        logger.info(f"Starting flexible model training from DataFrame")
                    ^
[1m.\backend\services\imputation.py[m[36m:[m114[36m:[m5[36m:[m [1m[31mC901[m 'FeatureImputer.impute' is too complex (12)
    def impute(self, data: Dict[str, Any]) -> Dict[str, Any]:
    ^
[1m.\backend\services\retraining.py[m[36m:[m50[36m:[m9[36m:[m [1m[31mF541[m f-string is missing placeholders
        f"# Model Card - Credit Risk Model",
        ^
[1m.\backend\services\retraining.py[m[36m:[m76[36m:[m1[36m:[m [1m[31mC901[m 'retrain_if_needed' is too complex (13)
def retrain_if_needed():
^
[1m.\backend\services\retraining.py[m[36m:[m135[36m:[m13[36m:[m [1m[31mF841[m local variable 'X_train_raw' is assigned to but never used
            X_train_raw = X_train.copy()
            ^
[1m.\backend\utils\ai_client.py[m[36m:[m182[36m:[m127[36m:[m [1m[31mW291[m trailing whitespace
        fallback_text = """Our credit risk assessment model has analyzed this application based on multiple financial factors. 
The decision considers income level, loan amount, credit history, employment stability, and other relevant metrics. 

Please refer to the SHAP values provided for a detailed breakdown of how each factor contributed to this decision. 
The feature importance scores show which aspects of the application had the most significant impact on the risk assessment.

Note: AI-powered natural language explanation is temporarily unavailable. A detailed rule-based explanation has been provided instead."""
                                                                                                                              ^
[1m.\backend\utils\ai_client.py[m[36m:[m183[36m:[m116[36m:[m [1m[31mW291[m trailing whitespace
        fallback_text = """Our credit risk assessment model has analyzed this application based on multiple financial factors. 
The decision considers income level, loan amount, credit history, employment stability, and other relevant metrics. 

Please refer to the SHAP values provided for a detailed breakdown of how each factor contributed to this decision. 
The feature importance scores show which aspects of the application had the most significant impact on the risk assessment.

Note: AI-powered natural language explanation is temporarily unavailable. A detailed rule-based explanation has been provided instead."""
                                                                                                                   ^
[1m.\backend\utils\ai_client.py[m[36m:[m185[36m:[m115[36m:[m [1m[31mW291[m trailing whitespace
        fallback_text = """Our credit risk assessment model has analyzed this application based on multiple financial factors. 
The decision considers income level, loan amount, credit history, employment stability, and other relevant metrics. 

Please refer to the SHAP values provided for a detailed breakdown of how each factor contributed to this decision. 
The feature importance scores show which aspects of the application had the most significant impact on the risk assessment.

Note: AI-powered natural language explanation is temporarily unavailable. A detailed rule-based explanation has been provided instead."""
                                                                                                                  ^
[1m.\cleanup_project.py[m[36m:[m6[36m:[m1[36m:[m [1m[31mF401[m 'os' imported but unused
import os
^
[1m.\cleanup_project.py[m[36m:[m392[36m:[m15[36m:[m [1m[31mF541[m f-string is missing placeholders
        print(f"\n‚úÖ Cleanup completed successfully!")
              ^
[1m.\examples\test_database_retraining.py[m[36m:[m11[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
import requests
^
[1m.\examples\test_database_retraining.py[m[36m:[m12[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
import pandas as pd
^
[1m.\examples\test_database_retraining.py[m[36m:[m13[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from backend.database import SessionLocal, crud
^
[1m.\examples\test_database_retraining.py[m[36m:[m14[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from backend.services.database_retraining import DatabaseRetrainer
^
[1m.\examples\test_database_retraining.py[m[36m:[m15[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
import random
^
[1m.\examples\test_database_retraining.py[m[36m:[m128[36m:[m15[36m:[m [1m[31mF541[m f-string is missing placeholders
        print(f"\nüìä Retraining Status:")
              ^
[1m.\examples\test_database_retraining.py[m[36m:[m137[36m:[m19[36m:[m [1m[31mF541[m f-string is missing placeholders
            print(f"\n‚ö†Ô∏è  Not Ready:")
                  ^
[1m.\examples\test_database_retraining.py[m[36m:[m162[36m:[m15[36m:[m [1m[31mF541[m f-string is missing placeholders
        print(f"\nüìã Data Preview:")
              ^
[1m.\examples\test_database_retraining.py[m[36m:[m165[36m:[m15[36m:[m [1m[31mF541[m f-string is missing placeholders
        print(f"\n  First 3 rows:")
              ^
[1m.\examples\test_database_retraining.py[m[36m:[m187[36m:[m15[36m:[m [1m[31mF541[m f-string is missing placeholders
        print(f"\n‚úÖ Retraining Complete!")
              ^
[1m.\examples\test_database_retraining.py[m[36m:[m188[36m:[m15[36m:[m [1m[31mF541[m f-string is missing placeholders
        print(f"\nüìä Results:")
              ^
[1m.\examples\test_database_retraining.py[m[36m:[m195[36m:[m15[36m:[m [1m[31mF541[m f-string is missing placeholders
        print(f"\nüìà Metrics:")
              ^
[1m.\examples\test_database_retraining.py[m[36m:[m203[36m:[m15[36m:[m [1m[31mF541[m f-string is missing placeholders
        print(f"\nüéØ Predictions:")
              ^
[1m.\examples\test_database_retraining.py[m[36m:[m215[36m:[m1[36m:[m [1m[31mC901[m 'test_api_endpoints' is too complex (11)
def test_api_endpoints():
^
[1m.\scripts\import_and_retrain.py[m[36m:[m16[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from backend.database.config import SessionLocal, check_connection, init_db
^
[1m.\scripts\import_and_retrain.py[m[36m:[m17[36m:[m1[36m:[m [1m[31mF401[m 'backend.database.models.LoanApplication' imported but unused
from backend.database.models import Prediction, LoanApplication
^
[1m.\scripts\import_and_retrain.py[m[36m:[m17[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from backend.database.models import Prediction, LoanApplication
^
[1m.\scripts\import_and_retrain.py[m[36m:[m18[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from backend.services.database_retraining import DatabaseRetrainer
^
[1m.\scripts\import_and_retrain.py[m[36m:[m19[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from sqlalchemy import text
^
[1m.\scripts\import_and_retrain.py[m[36m:[m20[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
import logging
^
[1m.\scripts\import_and_retrain.py[m[36m:[m140[36m:[m17[36m:[m [1m[31mF541[m f-string is missing placeholders
    logger.info(f"\n‚úÖ Import complete:")
                ^
[1m.\scripts\import_and_retrain.py[m[36m:[m210[36m:[m69[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
        logger.info(f"With feedback: {with_feedback} ({with_feedback/total_predictions*100:.1f}%)")
                                                                    ^
[1m.\scripts\import_and_retrain.py[m[36m:[m210[36m:[m87[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
        logger.info(f"With feedback: {with_feedback} ({with_feedback/total_predictions*100:.1f}%)")
                                                                                      ^
[1m.\scripts\import_and_retrain.py[m[36m:[m244[36m:[m65[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
                logger.info(f"  {outcome_label}: {count} ({count/with_feedback*100:.1f}%)")
                                                                ^
[1m.\scripts\import_and_retrain.py[m[36m:[m244[36m:[m79[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
                logger.info(f"  {outcome_label}: {count} ({count/with_feedback*100:.1f}%)")
                                                                              ^
[1m.\scripts\import_and_retrain.py[m[36m:[m250[36m:[m1[36m:[m [1m[31mC901[m 'main' is too complex (11)
def main():
^
[1m.\scripts\inspect_database.py[m[36m:[m14[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from sqlalchemy import inspect, text
^
[1m.\scripts\inspect_database.py[m[36m:[m15[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from backend.database.config import engine, check_connection, DATABASE_URL
^
[1m.\scripts\inspect_database.py[m[36m:[m16[36m:[m1[36m:[m [1m[31mF401[m 'backend.database.crud' imported but unused
from backend.database import crud
^
[1m.\scripts\inspect_database.py[m[36m:[m16[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from backend.database import crud
^
[1m.\scripts\inspect_database.py[m[36m:[m17[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from backend.database.models import LoanApplication, Prediction, FeatureEngineering, MitigationPlan, AuditLog, ModelMetrics
^
[1m.\scripts\inspect_database.py[m[36m:[m18[36m:[m1[36m:[m [1m[31mF401[m 'sqlalchemy.orm.Session' imported but unused
from sqlalchemy.orm import Session
^
[1m.\scripts\inspect_database.py[m[36m:[m18[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from sqlalchemy.orm import Session
^
[1m.\scripts\inspect_database.py[m[36m:[m19[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from backend.database.config import SessionLocal
^
[1m.\scripts\inspect_database.py[m[36m:[m20[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
import pandas as pd
^
[1m.\scripts\inspect_database.py[m[36m:[m21[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from datetime import datetime
^
[1m.\scripts\inspect_database.py[m[36m:[m190[36m:[m15[36m:[m [1m[31mF541[m f-string is missing placeholders
        print(f"\nPredictions with Feedback:")
              ^
[1m.\scripts\inspect_database.py[m[36m:[m191[36m:[m58[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
        print(f"  Total: {with_feedback} ({(with_feedback/total_predictions)*100:.1f}%)")
                                                         ^
[1m.\scripts\inspect_database.py[m[36m:[m191[36m:[m77[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
        print(f"  Total: {with_feedback} ({(with_feedback/total_predictions)*100:.1f}%)")
                                                                            ^
[1m.\scripts\inspect_database.py[m[36m:[m254[36m:[m1[36m:[m [1m[31mC901[m 'interactive_menu' is too complex (11)
def interactive_menu():
^
[1m.\scripts\quick_db_check.py[m[36m:[m14[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from backend.database.config import check_connection, DATABASE_URL, SessionLocal
^
[1m.\scripts\quick_db_check.py[m[36m:[m15[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from backend.database.models import Prediction, LoanApplication
^
[1m.\scripts\quick_db_check.py[m[36m:[m16[36m:[m1[36m:[m [1m[31mF401[m 'sqlalchemy.text' imported but unused
from sqlalchemy import text
^
[1m.\scripts\quick_db_check.py[m[36m:[m16[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from sqlalchemy import text
^
[1m.\scripts\quick_db_check.py[m[36m:[m39[36m:[m15[36m:[m [1m[31mF541[m f-string is missing placeholders
        print(f"\nüìä Record Counts:")
              ^
[1m.\scripts\quick_db_check.py[m[36m:[m47[36m:[m19[36m:[m [1m[31mF541[m f-string is missing placeholders
            print(f"\nüîç Last 5 Predictions:")
                  ^
[1m.\scripts\quick_db_check.py[m[36m:[m55[36m:[m19[36m:[m [1m[31mF541[m f-string is missing placeholders
            print(f"\nüìà Risk Distribution:")
                  ^
[1m.\scripts\quick_db_check.py[m[36m:[m56[36m:[m58[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
            print(f"   High Risk: {high_risk} ({high_risk/pred_count*100:.1f}%)")
                                                         ^
[1m.\scripts\quick_db_check.py[m[36m:[m56[36m:[m69[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
            print(f"   High Risk: {high_risk} ({high_risk/pred_count*100:.1f}%)")
                                                                    ^
[1m.\scripts\quick_db_check.py[m[36m:[m57[36m:[m55[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
            print(f"   Low Risk: {low_risk} ({low_risk/pred_count*100:.1f}%)")
                                                      ^
[1m.\scripts\quick_db_check.py[m[36m:[m57[36m:[m66[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
            print(f"   Low Risk: {low_risk} ({low_risk/pred_count*100:.1f}%)")
                                                                 ^
[1m.\scripts\setup_database.py[m[36m:[m11[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from dotenv import load_dotenv
^
[1m.\scripts\setup_database.py[m[36m:[m12[36m:[m1[36m:[m [1m[31mF401[m 'backend.database.init_db' imported but unused
from backend.database import init_db, check_connection, engine
^
[1m.\scripts\setup_database.py[m[36m:[m12[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from backend.database import init_db, check_connection, engine
^
[1m.\scripts\setup_database.py[m[36m:[m13[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from backend.database.models import Base
^
[1m.\scripts\setup_database.py[m[36m:[m14[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
import logging
^
[1m.\scripts\setup_database.py[m[36m:[m148[36m:[m15[36m:[m [1m[31mF541[m f-string is missing placeholders
        print(f"   ‚úÖ Database connection successful")
              ^
[1m.\scripts\setup_database.py[m[36m:[m169[36m:[m11[36m:[m [1m[31mF541[m f-string is missing placeholders
    print(f"\nConnection String:")
          ^
[1m.\scripts\setup_database.py[m[36m:[m171[36m:[m11[36m:[m [1m[31mF541[m f-string is missing placeholders
    print(f"\nAdd to .env file:")
          ^
[1m.\scripts\testing\test_new_features.py[m[36m:[m8[36m:[m1[36m:[m [1m[31mF401[m 'json' imported but unused
import json
^
[1m.\scripts\testing\test_new_features.py[m[36m:[m40[36m:[m11[36m:[m [1m[31mF541[m f-string is missing placeholders
    print(f"  Target: loan_status")
          ^
[1m.\scripts\testing\test_new_features.py[m[36m:[m54[36m:[m19[36m:[m [1m[31mF541[m f-string is missing placeholders
            print(f"\nMetrics:")
                  ^
[1m.\scripts\testing\test_new_features.py[m[36m:[m59[36m:[m19[36m:[m [1m[31mF541[m f-string is missing placeholders
            print(f"\nDetected Features:")
                  ^
[1m.\scripts\testing\test_new_features.py[m[36m:[m101[36m:[m19[36m:[m [1m[31mF541[m f-string is missing placeholders
            print(f"\nDeleted Records:")
                  ^
[1m.\scripts\utilities\list_openrouter_models.py[m[36m:[m35[36m:[m25[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
            print(f"{'='*80}")
                        ^
[1m.\scripts\utilities\list_openrouter_models.py[m[36m:[m37[36m:[m25[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
            print(f"{'='*80}\n")
                        ^
[1m.\scripts\utilities\list_openrouter_models.py[m[36m:[m52[36m:[m27[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
            print(f"\n{'='*80}")
                          ^
[1m.\scripts\utilities\list_openrouter_models.py[m[36m:[m53[36m:[m19[36m:[m [1m[31mF541[m f-string is missing placeholders
            print(f"POPULAR PAID MODELS (require credits)")
                  ^
[1m.\scripts\utilities\list_openrouter_models.py[m[36m:[m54[36m:[m25[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
            print(f"{'='*80}\n")
                        ^
[1m.\scripts\utilities\list_openrouter_models.py[m[36m:[m65[36m:[m60[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
                    print(f"   Price: ${float(prompt_price)*1000000:.2f} per 1M tokens")
                                                           ^
[1m.\scripts\utilities\monitor_api_calls.py[m[36m:[m12[36m:[m1[36m:[m [1m[31mC901[m 'monitor_api_calls' is too complex (15)
def monitor_api_calls():
^
[1m.\scripts\utilities\monitor_api_calls.py[m[36m:[m33[36m:[m17[36m:[m [1m[31mE722[m do not use bare 'except'
                except:
                ^
[1m.\scripts\utilities\monitor_api_calls.py[m[36m:[m58[36m:[m11[36m:[m [1m[31mF541[m f-string is missing placeholders
    print(f"\nüìä STATISTICS")
          ^
[1m.\scripts\utilities\monitor_api_calls.py[m[36m:[m61[36m:[m58[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
    print(f"Successful:         {successful} ({successful/total*100:.1f}%)")
                                                         ^
[1m.\scripts\utilities\monitor_api_calls.py[m[36m:[m61[36m:[m64[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
    print(f"Successful:         {successful} ({successful/total*100:.1f}%)")
                                                               ^
[1m.\scripts\utilities\monitor_api_calls.py[m[36m:[m62[36m:[m50[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
    print(f"Failed:             {failed} ({failed/total*100:.1f}%)")
                                                 ^
[1m.\scripts\utilities\monitor_api_calls.py[m[36m:[m62[36m:[m56[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
    print(f"Failed:             {failed} ({failed/total*100:.1f}%)")
                                                       ^
[1m.\scripts\utilities\monitor_api_calls.py[m[36m:[m64[36m:[m11[36m:[m [1m[31mF541[m f-string is missing placeholders
    print(f"\nüîå BY PROVIDER")
          ^
[1m.\scripts\utilities\monitor_api_calls.py[m[36m:[m69[36m:[m11[36m:[m [1m[31mF541[m f-string is missing placeholders
    print(f"\nü§ñ BY MODEL")
          ^
[1m.\scripts\utilities\monitor_api_calls.py[m[36m:[m74[36m:[m11[36m:[m [1m[31mF541[m f-string is missing placeholders
    print(f"\nüìç BY ENDPOINT")
          ^
[1m.\scripts\utilities\monitor_api_calls.py[m[36m:[m80[36m:[m11[36m:[m [1m[31mF541[m f-string is missing placeholders
    print(f"\nüìù RECENT REQUESTS (Last 10)")
          ^
[1m.\scripts\utilities\monitor_api_calls.py[m[36m:[m95[36m:[m9[36m:[m [1m[31mE722[m do not use bare 'except'
        except:
        ^
[1m.\tests\backend\test_dynamic_api.py[m[36m:[m23[36m:[m19[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
    print(f"\n{'='*80}")
                  ^
[1m.\tests\backend\test_dynamic_api.py[m[36m:[m25[36m:[m17[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
    print(f"{'='*80}")
                ^
[1m.\tests\backend\test_dynamic_api.py[m[36m:[m197[36m:[m19[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
    print(f"\n{'='*80}")
                  ^
[1m.\tests\backend\test_dynamic_api.py[m[36m:[m199[36m:[m17[36m:[m [1m[31mE226[m missing whitespace around arithmetic operator
    print(f"{'='*80}")
                ^
[1m.\tests\test_predictor.py[m[36m:[m15[36m:[m1[36m:[m [1m[31mE402[m module level import not at top of file
from backend.models.predictor import CreditRiskPredictor
^
[1m.\tests\test_retrain_agent.py[m[36m:[m6[36m:[m1[36m:[m [1m[31mF401[m 'os' imported but unused
import os
^
10    C901 'predict_risk_batch' is too complex (11)
1     E128 continuation line under-indented for visual indent
27    E226 missing whitespace around arithmetic operator
1     E302 expected 2 blank lines, found 1
28    E402 module level import not at top of file
2     E722 do not use bare 'except'
31    F401 'os' imported but unused
30    F541 f-string is missing placeholders
1     F811 redefinition of unused 'Path' from line 8
3     F841 local variable 'risk_class' is assigned to but never used
1     W191 indentation contains tabs
8     W291 trailing whitespace
1     W292 no newline at end of file
59    W293 blank line contains whitespace
